---
import { ViewTransitions } from 'astro:transitions';
import ButtonToUp from '../components/ButtonToUp.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import '@fontsource-variable/rubik';
import ButtonTheme from '../components/ButtonTheme.astro';

interface Props {
	title: string;
	era: string;
}

const { title , era } = Astro.props;
---

<!doctype html>
<html transition:persist id="html" lang = "en">
	<head>
		<meta charset = "UTF-8" />
		<meta name = "description" content = "Astro description" />
		<meta name = "viewport" content = "width = device-width" />
		<link rel = "icon" type = "image/svg+xml" href = "/swifties-eras-tour/src/components/svg/Frame.svg" />
		<meta name = "generator" content = {Astro.generator} />
		
		<!-- Tipografías -->
		<link rel = "preconnect" href = "https://fonts.googleapis.com">
		<link rel = "preconnect" href = "https://fonts.gstatic.com" crossorigin>
		<link href = "https://fonts.googleapis.com/css2?family = Rubik:ital,wght@0,300..900;1,300..900&display = swap" rel = "stylesheet">
		
		<script is:inline src="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.js"></script>

		<!-- <script>
			// On page load or when changing themes, best to add inline in `head` to avoid FOUC
			if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
				document.documentElement.classList.add('dark');
			} else {
				document.documentElement.classList.remove('dark')
			}

			

		</script> -->

		<title>{title}</title>
		
		<ViewTransitions />
		
	</head>
	<body class:list={[
		"w-screem sm:w-full",
		{
			"dark:bg-debut-950 bg-debut-50": era === 'debut',
			"dark:bg-fearless-950 bg-fearless-50": era === 'fearless',
			"dark:bg-speakNow-950 bg-speakNow-50": era === 'speakNow',
			"dark:bg-red-950 bg-red-50": era === 'red',
			"dark:bg-1989-950 bg-1989-50": era === '1989',
			"dark:bg-reputation-950 bg-reputation-50": era === 'reputation',
			"dark:bg-lover-950 bg-lover-50": era === 'lover',
			"dark:bg-folklore-950 bg-folklore-50": era === 'folklore',
			"dark:bg-evermore-950 bg-evermore-50": era === 'evermore',
			"dark:bg-midnights-950 bg-midnights-50": era === 'midnights',
			"dark:bg-TTPD-950 bg-TTPD-50": era === 'TTPD',
			"dark:bg-mashup-950 bg-mashup-50": era === 'mashup',
		}
		]}>
		<Header era = {era}/>
		<main>
			<slot/>
		</main>
		<Footer era = {era}/>
		<ButtonToUp era={era}/>
		<ButtonTheme era={era}/>
	</body>
</html>
<style is:global>
	.no-scrollbar::-webkit-scrollbar {
		display: none; 
	} 

	/* ----| Tipografías |---- */
	
	.text-display-large{
		@apply font-display-large-font-family text-display-large-font-size leading-display-large-line-height font-display-large-font-weight;
	}
	.text-display-medium{
		@apply font-display-medium-font-family text-display-medium-font-size leading-display-medium-line-height font-display-medium-font-weight;
	}
	.text-display-small{
		@apply font-display-small-font-family text-display-small-font-size leading-display-small-line-height font-display-small-font-weight;
	}

	.text-headline-large{
		@apply font-headline-large-font-family text-headline-large-font-size leading-headline-large-line-height font-headline-large-font-weight;
	}
	.text-headline-medium{
		@apply font-headline-medium-font-family text-headline-medium-font-size leading-headline-medium-line-height font-headline-medium-font-weight;
	}
	.text-headline-small{
		@apply font-headline-small-font-family text-headline-small-font-size leading-headline-small-line-height font-headline-small-font-weight;
	}

	.text-title-large{
		@apply font-title-large-font-family text-title-large-font-size leading-title-large-line-height font-title-large-font-weight;
	}
	.text-title-medium{
		@apply font-title-medium-font-family text-title-medium-font-size leading-title-medium-line-height font-title-medium-font-weight;
	}
	.text-title-small{
		@apply font-title-small-font-family text-title-small-font-size leading-title-small-line-height font-title-small-font-weight;
	}

	.text-body-large{
		@apply font-body-large-font-family text-body-large-font-size leading-body-large-line-height font-body-large-font-weight;
	}
	.text-body-medium{
		@apply font-body-medium-font-family text-body-medium-font-size leading-body-medium-line-height font-body-medium-font-weight;
	}
	.text-body-small{
		@apply font-body-small-font-family text-body-small-font-size leading-body-small-line-height font-body-small-font-weight;
	}
</style>


<script>
	var themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
	var themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');

	// Change the icons inside the button based on previous settings
	if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
		themeToggleLightIcon?.classList.remove('hidden');
	} else {
		themeToggleDarkIcon?.classList.remove('hidden');
	}

	var themeToggleBtn = document.getElementById('theme-toggle');

	themeToggleBtn?.addEventListener('click', function() {

		// toggle icons inside button
		themeToggleDarkIcon?.classList.toggle('hidden');
		themeToggleLightIcon?.classList.toggle('hidden');

		// if set via local storage previously
		if (localStorage.getItem('color-theme')) {
			if (localStorage.getItem('color-theme') === 'light') {
				document.documentElement.classList.add('dark');
				localStorage.setItem('color-theme', 'dark');
			} else {
				document.documentElement.classList.remove('dark');
				localStorage.setItem('color-theme', 'light');
			}

		// if NOT set via local storage previously
		} else {
			if (document.documentElement.classList.contains('dark')) {
				document.documentElement.classList.remove('dark');
				localStorage.setItem('color-theme', 'light');
			} else {
				document.documentElement.classList.add('dark');
				localStorage.setItem('color-theme', 'dark');
			}
		}
		
	});
</script>

<!-- <div class="absolute inset-0 -z-10 h-full w-full items-center px-5 py-24 [background:radial-gradient(125%_125%_at_50%_10%,#000_40%,#63e_100%)]"></div> -->